# üìå ToDo List Backend (Django + DRF + Celery)

–ë—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ (ToDo List) —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ —Å—Ä–æ–∫–∞—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.  
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ **Django**, **Django REST Framework**, —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –Ω–∞ **Celery** –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ **PostgreSQL**.  
–°–µ—Ä–≤–∏—Å —É–ø–∞–∫–æ–≤–∞–Ω –≤ Docker –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Poetry** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∑–∞–¥–∞—á –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —á–µ—Ä–µ–∑ REST API
- –ü—Ä–∏–≤—è–∑–∫–∞ –∑–∞–¥–∞—á –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–∏ —Å—Ä–æ–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ Celery
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `America/Adak`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ (–±–µ–∑ UUID, random, –∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞)

---

## üìÇ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- Python 3.11
- Django 5 + Django REST Framework
- PostgreSQL
- Celery + Redis
- Poetry
- Docker + Docker Compose
- Gunicorn (–ø—Ä–æ–¥–∞–∫—à–Ω WSGI-—Å–µ—Ä–≤–µ—Ä)

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https:github.com/<–≤–∞—à_—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>.git
cd <–≤–∞—à_—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è:

```bash
cp .env.example .env
```

–ü—Ä–∏–º–µ—Ä `.env`:

```
# Django
SECRET_KEY=change-me
DEBUG=1
ALLOWED_HOSTS=*

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
POSTGRES_DB=todo
POSTGRES_USER=todo
POSTGRES_PASSWORD=todo

# Celery/Redis
CELERY_BROKER_URL=redis:redis:6379/0
CELERY_RESULT_BACKEND=redis:redis:6379/1

# –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å
TZ=America/Adak
```

### 3. –≠–∫—Å–ø–æ—Ä—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Poetry –≤ requirements.txt

(–¢–æ–ª—å–∫–æ –µ—Å–ª–∏ —Å–æ–±–∏—Ä–∞–µ—Ç–µ –æ–±—Ä–∞–∑ Docker)

```bash
poetry self add poetry-plugin-export
poetry export -f requirements.txt -o backend/requirements.txt --without-hashes
```

### 4. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
docker compose build
docker compose up -d
```

### 5. –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
docker compose exec backend python manage.py migrate
```

### 6. –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
docker compose exec backend python manage.py createsuperuser
```

---

## üìú –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å—É

- API (DRF): http:localhost:8000/api/
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: http:localhost:8000/admin/

---

## üõ† –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)

```bash
poetry install
poetry run python manage.py migrate
poetry run python manage.py runserver
```

---

## üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ä–æ–∫–∞—Ö

- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏ —Å –ø–æ–ª–µ–º `due_at` Celery –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è.
- –ö–æ–≥–¥–∞ —Å—Ä–æ–∫ –Ω–∞—Å—Ç—É–ø–∞–µ—Ç, Celery –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–≤ —Å–≤—è–∑–∞–Ω–Ω—ã–π —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –∏–ª–∏ –¥—Ä—É–≥–æ–π –∫–∞–Ω–∞–ª).

---

## üìå –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
crud-django-service/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ Makefile
‚îú‚îÄ‚îÄ poetry.lock
‚îú‚îÄ‚îÄ pyproject.toml
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ ruff.toml
```

---

## ‚ö† –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- **invalid HTTP_HOST header** ‚Äî –¥–æ–±–∞–≤—å—Ç–µ —Ö–æ—Å—Ç –≤ `ALLOWED_HOSTS` –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `*` –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–ü—Ä–æ–±–ª–µ–º—ã —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏** ‚Äî —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `todo` –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ `INSTALLED_APPS`
- **Celery –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è** ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Redis —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `CELERY_BROKER_URL` / `CELERY_RESULT_BACKEND` —É–∫–∞–∑–∞–Ω—ã –≤–µ—Ä–Ω–æ

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
